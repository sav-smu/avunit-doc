

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Semantics of Describing Scenes &mdash; AVUnit  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Define Specifications by AVUnit" href="Build_specifications_by_AVUnit.html" />
    <link rel="prev" title="Generate Scenarios by AVUnit" href="Generate_scenarios_by_AVUnit.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> AVUnit
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Introduction_to_AVUnit.html">Introduction to AVUnit</a></li>
<li class="toctree-l1"><a class="reference internal" href="Install_AVUnit.html">Install AVUnit</a></li>
<li class="toctree-l1"><a class="reference internal" href="AVUnit_examples.html">AVUnit examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Language Description</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="types.html">Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="Generate_scenarios_by_AVUnit.html">Generate Scenarios by AVUnit</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Semantics of Describing Scenes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basic-defination-of-scene">Basic Defination of scene</a></li>
<li class="toctree-l2"><a class="reference internal" href="#feasible-regions">Feasible Regions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#unchangeable-parameters">Unchangeable Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#overall-defination">Overall Defination</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Build_specifications_by_AVUnit.html">Define Specifications by AVUnit</a></li>
<li class="toctree-l1"><a class="reference internal" href="Semanticss_of_Defining_Specifications.html">Semantics of Describing Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="Overall_BNF.html">Overall BNF</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Extension to simulations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="simulations.html">AVUnit connected to Simulator and Autonomous Vehicle</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">AVUnit</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Semantics of Describing Scenes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/Semantics_of_Describing_Scenes.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="semantics-of-describing-scenes">
<h1>Semantics of Describing Scenes<a class="headerlink" href="#semantics-of-describing-scenes" title="Permalink to this headline">¶</a></h1>
<p>In this section, we define the semantics of AVUnit(Scenario Description). Even though AVUnit only  describes  the  motion  task  of  the  ego vehicle, the predefined motions of NPC vehicles and pedestrians, and other environment related information, such as time and  weather,  it  describes  a  concrete  scenario  implicitly  as the  trajectory  of  the  ego  vehicle  is  determined  by  the  ADS under  testing  according  to AVUnit.  Hence,  we  define  the semantics  of AVUnit as  a <code class="docutils literal notranslate"><span class="pre">trace</span></code>,  which  is  a  sequence  of scenes.  Here  a  scene  is  a  snapshot  of  the  physical  world, including  the  status  of  all  objects  defined  in AVUnit(e.g.,the ego vehicle, NPC vehicles, pedestrians, and weather) and other traffic conditions (e.g., traffic signs), and the ADS world, including the perception results of NPC vehicles, pedestrians, obstacles, and traffic conditions.</p>
<div class="section" id="basic-defination-of-scene">
<h2>Basic Defination of scene<a class="headerlink" href="#basic-defination-of-scene" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">Defination</span> <span class="pre">1</span></code>: A scene is a mapping θ such that:</p>
<ul class="simple">
<li><p>θ(map) is the map (i.e., a map name);</p></li>
<li><p>θ(time) is the time;</p></li>
<li><p>θ(weather) is the weather.</p></li>
<li><p>θ(ego) is  the  status  of  the  ego  vehicle,  including  the position, orientation, velocity, and acceleration;</p></li>
<li><p>θ(npc,truth) maps each NPC vehicle <code class="docutils literal notranslate"><span class="pre">npc</span></code> to its status, including position, orientation, velocity, acceleration, andsize, in the real world;</p></li>
<li><p>θ(ped) maps  each  pedestrian <code class="docutils literal notranslate"><span class="pre">ped</span></code> to  its  status,  i.e.,  its position,  orientation,  velocity,  acceleration,  and  size,  in the real world;</p></li>
<li><p>θ(obs) maps each static obstacle <code class="docutils literal notranslate"><span class="pre">obs</span></code> to its position andsize in the real world;</p></li>
<li><p>θ(traffic) returns the state of different traffic signs, suchas traffic lights, stop sign, and speed limit sign, in the real world.</p></li>
<li><p>θ(npc,perception) maps  each  NPC  vehicle <code class="docutils literal notranslate"><span class="pre">npc</span></code> to  itsstatus in the view of the ego vehicle;</p></li>
<li><p>θ(ped,perception) maps each pedestrian <code class="docutils literal notranslate"><span class="pre">ped</span></code> to its status in the view of the ego vehicle;</p></li>
<li><p>θ(obs,perception) maps  each  static  obstacle <code class="docutils literal notranslate"><span class="pre">obs</span></code> to  its status in the view of the ego vehicle;</p></li>
<li><p>θ(traffic,perception) returns the state of different traffic signs in the view of the ego vehicle.</p></li>
</ul>
</div>
<div class="section" id="feasible-regions">
<h2>Feasible Regions<a class="headerlink" href="#feasible-regions" title="Permalink to this headline">¶</a></h2>
<p>At each scene, the objects, i.e., the ego vehicle, npc vehicles, pedestrians  and  static  obstacles,  should  be  on  the  feasible region  of  the  map,  which  means  their  positions  should  not exceed  the  region  of  the  defined  map.  Additionally,  since vehicles should move along lanes, their positions should also be limited to roads. Note that pedestrians can move around the feasible region of the map. Moreover, a vehicle or pedestrianhas  its  own  limit  on  the  maximal  speed.  Specifically,  for  the initial scene <span class="math notranslate nohighlight">\(\theta_0\)</span>, we should also guarantee the the objects are located  at  different  positions.  Note  that  during  the  execution of the scenario, we do not require and also cannot guarantee collision avoidance of the ego vehicle or other objects. Hence,the constraints for each scene can be defined as follows.</p>
<p><code class="docutils literal notranslate"><span class="pre">Defination</span> <span class="pre">2</span></code>: Let <span class="math notranslate nohighlight">\(A(\theta(map))\)</span> and <span class="math notranslate nohighlight">\(L(\theta(map))\)</span> be  the  whole feasible  region  and  the  lane  region  of  the  map,  respectively, and <span class="math notranslate nohighlight">\(OBJ\)</span> be  the  set  of  the  ego  vehicle,  all  NPC  vehicles, pedestrians and static obstacles in AVUnit. Let <span class="math notranslate nohighlight">\(p(\theta(object))\)</span> and <span class="math notranslate nohighlight">\(vs(\theta(object))\)</span>, <span class="math notranslate nohighlight">\(object \in OBJ\)</span> denote  the  position  and speed of an object at a scene. The maximal speed of an objectis  denoted  as <span class="math notranslate nohighlight">\(vs_{\max}(object)\)</span>.  Then, <span class="math notranslate nohighlight">\(\forall \theta\)</span>,  it  should  satisfy  the following constraints:</p>
<div class="math notranslate nohighlight">
\[\begin{split}p(\theta(object))\in A(\theta(map)) \label{c1}\\
vs(\theta(object)) \leq vs_{\max}(object)\label{c2}\\
p(\theta(npc)) \in L(\theta(map))\label{c3}\end{split}\]</div>
<p>The initial scene <span class="math notranslate nohighlight">\(\theta_0\)</span> should further satisfy:</p>
<div class="math notranslate nohighlight">
\[\forall e_1, e_2\in OBJ, p(\theta_0(e_1)) \neq p(\theta_0(e_2)) \label{c4}.\]</div>
</div>
<div class="section" id="unchangeable-parameters">
<h2>Unchangeable Parameters<a class="headerlink" href="#unchangeable-parameters" title="Permalink to this headline">¶</a></h2>
<p>In AVUnit ,  we  do  not  allow  the  change  of  maps  during the  execution  of  a  scenario.  A  vehicle  is  also  not  allowed  to move  back  during  its  motion  on  a  road.  Hence,  we  have  the following constraints.</p>
<p><code class="docutils literal notranslate"><span class="pre">Defination</span> <span class="pre">3</span></code>: Given two successive scenes <span class="math notranslate nohighlight">\(\theta_1\)</span> and <span class="math notranslate nohighlight">\(\theta_2\)</span> of a trajectory, and let <span class="math notranslate nohighlight">\(l(\theta(npc))\)</span> be the lane where the vehicle <span class="math notranslate nohighlight">\(npc\)</span> is running along at scene <span class="math notranslate nohighlight">\(\theta\)</span>. Then, we have:</p>
<div class="math notranslate nohighlight">
\[\begin{split}    \theta_1(map) = \theta_2(map);  \label{c5}\\
l(\theta_1(npc)) \neq  l(\theta_2(npc)) \vee \nonumber\\
d(p(\theta_1(npc)), l(\theta_1(npc))) \leq d(p(\theta_2(npc)), l(\theta_2(npc))) \label{c6}.\end{split}\]</div>
</div>
<div class="section" id="overall-defination">
<h2>Overall Defination<a class="headerlink" href="#overall-defination" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">Defination</span> <span class="pre">4</span></code>: A trace of AVUnit is a sequence of scenes, denoted as <span class="math notranslate nohighlight">\(T=\langle \theta_0, \theta_1, \ldots, \theta_n \rangle\)</span>, satisfying the constraints described in Equations above.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="Build_specifications_by_AVUnit.html" class="btn btn-neutral float-right" title="Define Specifications by AVUnit" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="Generate_scenarios_by_AVUnit.html" class="btn btn-neutral float-left" title="Generate Scenarios by AVUnit" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, SUN Yang.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>